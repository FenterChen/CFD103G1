<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BOBIO</title>
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/shopping_cart4.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.14/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.min.js"></script>
</head>

<body>
    <header id="mainheader">
        <div class="headerWrap">
            <div class="logo">
                <a href="mainpage.html">
                    <img src="img/header/BOBIO_logo.svg" />
                </a>
            </div>
            <nav class="navPostion">
                <ul>
                    <li>
                        <div class="member">
                            <a href="memberCenter.html"><img src="img/header/member.svg" /></a>
                        </div>
                        <div class="logout">
                            <span v-text="losituation" @click="logout"></span>
                        </div>
                    </li>
                    <li>
                        <a href="pray.html">立即祈願</a>
                    </li>
                    <li>
                        <a href="onlinepomes.html">線上求籤</a>
                    </li>
                    <li>
                        <a href="amulet.html">平安符願</a>
                    </li>
                    <li>
                        <a href="money.html">立即結緣</a>
                    </li>
                    <li>
                        <a href="Abouts.html">關於我們</a>
                    </li>
                </ul>
            </nav>
            <div class="cart">
                <a href="shopping_cart1.html"><img src="img/header/cart.svg" /></a>
            </div>
            <div class="member">
                <a href="memberCenter.html"><img src="img/header/member.svg" /></a>
            </div>
            <div class="logout">
                <span v-text="losituation" @click="logout"></span>
            </div>
            <div class="outerHb">
                <div class="hb" @click="hb">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </header>
    <section class="process">
        <div class="step">
            <p class="num">1</p>
            <p class="state">查看購物車</p>
        </div>
        <div class="step">
            <p class="num">2</p>
            <p class="state">填寫收件資料</p>
        </div>
        <div class="step">
            <p class="num">3</p>
            <p class="state">線上付款</p>
        </div>
        <div class="step">
            <p class="num">4</p>
            <p class="state">訂單確認</p>
        </div>
    </section>
    <section class="info">
        <div class="wrap">
            <table class="mdTable">
                <tr>
                    <td colspan="2">
                        <h2>訂單編號:00002021</h2>
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <h3>訂單已經建立</h3>
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <p>感謝您的訂購，完整訂單已傳送至電子信箱。</p>
                    </td>
                </tr>
                <tr>
                    <td rowspan="2">
                        <div class="pic">
                            <img src="./img/amulet/amulet_sm_f 1.png" alt="">
                        </div>
                    </td>
                    <td>
                        <h1>客製化平安符</h1>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>感情·生肖牛</p>
                    </td>

                </tr>
                <tr>
                    <td>配送方式</td>
                    <td>宅配配送 <a href="#">查看地址</a></td>
                </tr>
                <tr>
                    <td>單件價格</td>
                    <td>NT$399</td>
                </tr>
                <tr>
                    <td>數量</td>
                    <td>1件</td>
                </tr>
                <tr>
                    <td>運費</td>
                    <td>NT$60</td>
                </tr>
                <tr>
                    <td>小計</td>
                    <td>NT$459</td>
                </tr>
                <tr>
                    <td>付款狀態</td>
                    <td>已付款(信用卡)</td>
                </tr>
            </table>
            <table class="lgTable" id="app">
                <thead>
                    <tr>
                        <td colspan="6">
                            訂單編號:00002021
                        </td>
                    </tr>

                </thead>
                <tbody>
                    <tr>
                        <td>配送方式</td>
                        <td>商品資料</td>
                        <td>單件價格</td>
                        <td>數量</td>
                        <td>小計</td>
                        <td>付款狀態</td>
                    </tr>
                    <tr v-for="(item,index) in carts" :key="index">
                        <td>宅配配送</td>
                        <td>
                            <div class="pic">
                                <img src="./img/amulet/amulet_sm_f 1.png" alt="">
                            </div>
                            <div class="title">
                                <p>客製化平安符</p>
                                <p class="type">{{item[2]}}</p>
                                <p>{{item[0]}}/生肖{{item[1]}}</p>
                            </div>
                        </td>
                        <td>
                            <p>NT$399</p>
                        </td>
                        <td>
                            <p>{{item[3]}}</p>
                        </td>
                        <td>
                            <p>NT${{price*item[3]}}</p>
                        </td>
                        <td>已付款(信用卡)</td>
                    </tr>
                </tbody>
            </table>
            <button data-hover="返回首頁" onclick="location.href='mainpage.html'">返回首頁</button>
        </div>
    </section>
    <footer>
        <div class="footer-wrap">
            <div class="footer-logo">
                <img src="./img/footer/BOBIO_logo.svg" alt="bobio">
            </div>
            <div class="footer-slog">
                <span>用BOBIO就有保佑</span>
            </div>
            <div class="footer-info">
                <div class="list">
                    <ul>
                        <li><a href="#">立即祈願</a></li>
                        <li><a href="#">線上求籤</a></li>
                        <li><a href="#">平安符願</a></li>
                        <li><a href="#">立即結緣</a></li>
                        <li><a href="#">關於我們</a></li>
                    </ul>
                </div>
                <div class="conn">
                    <p>
                        bobio@temple.com<br>
                        02-1090-1090
                    </p>
                    <div class="info-icon">
                        <a href="#"><img src="./img/footer/Group 415.svg" alt="facebook"></a>
                        <a href="#"><img src="./img/footer/Group 295.svg" alt="instagram"></a>
                        <a href="#"><img src="./img/footer/Group 296.svg" alt="youtube"></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p>
                Copyright © 2021Bobio
                本網站為緯育TibaMe_前端設計工程師班第71期學員專題成果作品，本平台僅供學習、展示之用。若有抵觸有關著作權，或有第三人主張侵害智慧財產權等情事，均由學員負法律上責任，緯育公司概不負責。若有侵權疑慮，您可以私訊[緯育TibaMe]，後續會由專人協助處理。
            </p>
        </div>
    </footer>
    <script>
        //headerVue
        new Vue({
            el: "#mainheader",
            data() {
                return {
                    screenWidth: null,
                    personaldata: [],
                    losituation: "",
                };
            },
            created() {
                this.screenWidth = document.body.clientWidth; //營幕寬
                //以下讀取會員資料
                let array = JSON.parse(localStorage.getItem("personallogin")); //抓localStorage存入變數
                this.losituation = null; //登入登出狀態
                if (array != null) {
                    axios
                        .post("phps/memberExbody.php", {
                            mem_no: array[0].mem_no,
                            mem_id: array[0].mem_id,
                            headers: {
                                "Content-Type": "multipart/form-data",
                            },
                        })
                        .then((res) => {
                            this.losituation = "登出"; //登入登出狀態
                            this.personaldata = res.data[0];
                        })
                        .catch((error) => (this.personaldata = res.data));
                }
                //以上讀取會員資料
                window.onresize = () => {
                    return (() => {
                        this.screenWidth = document.body.clientWidth;
                    })();
                };
            },
            watch: {
                screenWidth: {
                    handler: function (newval, oldval) {
                        if (newval >= 1200) {
                            $(`header>.headerWrap>nav`).removeClass("navPostion");
                            $(`header>.headerWrap>nav li:first-child`).css(
                                "display",
                                "none"
                            );
                            $(`header>.headerWrap>.member`).css("display", "flex");
                            $(`header>.headerWrap>.logout`).css("display", "block");
                        } else if (newval < 1200) {
                            $(`header>.headerWrap>nav`).addClass("navPostion");
                            $(`header>.headerWrap>nav li:first-child`).css(
                                "display",
                                "flex"
                            );
                            $(`header>.headerWrap>.member`).css("display", "none");
                            $(`header>.headerWrap>.logout`).css("display", "none");
                        }
                    },
                    immediate: true,
                },
            },
            methods: {
                hb() {
                    let place = $("nav").css("right");
                    if (place < "0px") {
                        $("nav").animate(
                            {
                                right: 0,
                            },
                            1200,
                            "easeInBounce"
                        );
                    } else {
                        $("nav").animate(
                            {
                                right: "-30%",
                            },
                            1200,
                            "easeOutBounce"
                        );
                    }
                },
                logout() {
                    localStorage.removeItem("personallogin");
                    location.href = "mainpage.html";
                },
            },
        });
        new Vue({
            el: "#app",
            data() {
                return {
                    carts: [],
                    price: 399,
                    freight: 60,
                };
            },
            mounted() {
                let array = JSON.parse(localStorage.getItem('productno'));
                this.carts = array;
            },
        })
    </script>

</body>

</html>