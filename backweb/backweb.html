<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/sidebar.css" />
    <link rel="stylesheet" href="../css/backheader.css" />
    <!-- <link rel="stylesheet" href="../css/3-2ZodiacManage.css" /> -->
    <link rel="stylesheet" href="../css/4_productOrders.css" />
    <link href="../css/bootstrap.min.css" rel="stylesheet" />
    <script src="../js/bootstrap.bundle.min.js"></script>
    <script src="../js/sidebars.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js"></script>
    <script src="../js/prayRecorder.js"></script>
    <script src="../js/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.min.js"></script>
  </head>

  <body>
    <header id="mainheader">
      <div class="headerWrap">
        <div class="logo">
          <a href="" @click="show = 'showbox0'">
            <img src="../img/header/BOBIO_logo.svg" />
          </a>
        </div>
        <div class="member">
          <a href="" @click="show = 'showbox0'">
            <img src="../img/header/member.svg"
          /></a>
        </div>
        <span>ç™»å‡º</span>
      </div>
    </header>
    <div class="wrapp" id="app">
      <!-- sidebar -->
      <div class="sidebar flex-shrink-0 p-3">
        <ul class="list-unstyled ps-0">
          <!-- ç¥ˆé¡˜é …ç›® -->
          <li class="mb-1">
            <button
              class="btn btn-toggle align-items-center rounded collapsed"
              data-bs-toggle="collapse"
              data-bs-target="#home-collapse"
              aria-expanded="true"
            >
              ç¥ˆé¡˜
            </button>
            <div class="collapse" id="home-collapse">
              <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                <li>
                  <a
                    href="#"
                    class="link-dark rounded"
                    @click="show = 'showbox01'"
                    >ç¥ˆé¡˜ç´€éŒ„</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    class="link-dark rounded"
                    @click="show = 'showbox02'"
                    >å°å¡ç®¡ç†</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    class="link-dark rounded"
                    @click="show = 'showbox03'"
                    >ä¾›å“ç®¡ç†</a
                  >
                </li>
              </ul>
            </div>
          </li>
          <!-- æ±‚ç±¤ç®¡ç† -->
          <li class="mb-1">
            <button
              class="btn btn-toggle align-items-center rounded collapsed"
              data-bs-toggle="collapse"
              data-bs-target="#dashboard-collapse"
              aria-expanded="false"
            >
              æ±‚ç±¤
            </button>
            <div class="collapse" id="dashboard-collapse">
              <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                <li>
                  <a
                    href="#"
                    class="link-dark rounded"
                    id="bpomes"
                    @click="show = 'showbox04'"
                    >ç±¤è©©ç®¡ç†</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    class="link-dark rounded"
                    id="brecorder"
                    @click="show = 'showbox05'"
                    >è§£ç±¤å…§å®¹ç®¡ç†</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    class="link-dark rounded"
                    id="pomecontent"
                    @click="show = 'showbox06'"
                    >æ±‚ç±¤ç´€éŒ„</a
                  >
                </li>
              </ul>
            </div>
          </li>

          <!-- å¹³å®‰ç¬¦ç®¡ç† -->
          <li class="mb-1">
            <button
              class="btn btn-toggle align-items-center rounded collapsed"
              data-bs-toggle="collapse"
              data-bs-target="#orders-collapse"
              aria-expanded="false"
            >
              å¹³å®‰ç¬¦
            </button>
            <div class="collapse" id="orders-collapse">
              <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                <li>
                  <a
                    href="#"
                    class="link-dark rounded"
                    @click="show = 'showbox07'"
                    >å¹³å®‰ç¬¦é¡˜ç®¡ç†</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    class="link-dark rounded"
                    @click="show = 'showbox08'"
                    >ç”Ÿè‚–ç®¡ç†</a
                  >
                </li>
              </ul>
            </div>
          </li>

          <li class="mb-1">
            <button
              class="btn btn-toggle align-items-center rounded collapsed"
              data-bs-toggle="collapse"
              data-bs-target="#account-collapse"
              aria-expanded="false"
            >
              è¨‚å–®ç®¡ç†
            </button>
            <div class="collapse" id="account-collapse">
              <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                <li>
                  <a
                    href="#"
                    class="link-dark rounded"
                    @click="show = 'showbox09'"
                    >å•†å“è¨‚å–®</a
                  >
                </li>
                <!-- <li>
                  <a
                    href="#"
                    class="link-dark rounded"
                    @click="show = 'showbox10'"
                    >è¨‚å–®æ˜ç´°</a
                  >
                </li> -->
              </ul>
            </div>
          </li>

          <li class="mb-1">
            <a href="#" @click="show = 'showbox11'">
              <button class="btn" style="padding-left: 30px">
                æœƒå“¡è³‡æ–™
              </button></a
            >
          </li>
          <li class="mb-1">
            <a href="#" @click="show = 'showbox12'">
              <button class="btn" style="padding-left: 30px">
                çµç·£ç´€éŒ„
              </button></a
            >
          </li>
        </ul>
      </div>
      <!-- ç®¡ç†å“¡ -->
      <div class="adminList" v-if="show =='showbox0'">
        <my-admin></my-admin>
      </div>
      <!-- ç¥ˆé¡˜ç´€éŒ„ -->
      <div class="prayRecorder" v-if="show =='showbox01'">
        <prayrecord></prayrecord>
      </div>
      <!-- å°å¡ç®¡ç† -->
      <div class="cardManage" v-if="show =='showbox02'">
        <cardmanage></cardmanage>
      </div>
      <!-- ä¾›å“ç®¡ç† -->
      <div class="supplyManage" v-if="show =='showbox03'">
        <supplymanage></supplymanage>
      </div>
      <!-- ç±¤è©© -->
      <div class="pomes" v-if="show =='showbox04'">
        <my-pomes></my-pomes>
      </div>
      <!-- è§£ç±¤ç®¡ç† -->
      <div class="pomeDetail" v-if="show =='showbox05'">
        <my-pomedetail></my-pomedetail>
      </div>
      <!-- ç±¤è©©ç´€éŒ„ -->
      <div class="pomeRecorder" v-if="show =='showbox06'">
        <my-pomerecorder></my-pomerecorder>
      </div>
      <!-- å¹³å®‰ç¬¦ç®¡ç† -->
      <div class="amuletManage" v-if="show =='showbox07'">
        <amuletmanage></amuletmanage>
      </div>
      <!-- ç”Ÿè‚–ç®¡ç† -->
      <div class="zodiac-Manage-second" v-if="show =='showbox08'">
        <zodiacmanage></zodiacmanage>
      </div>
      <!-- å•†å“è¨‚å–® -->
      <div class="product-orders" v-if="show =='showbox09'">
        <my-orders></my-orders>
      </div>
      <!-- è¨‚å–®æ˜ç´° -->
      <div class="productOrders" v-if="show =='showbox10'">
        <div class="supply">
          <span>è¨‚å–®æ˜ç´°</span>
        </div>
        <div class="searchbox">
          <div class="search">
            <input type="text" placeholder="æœå°‹é—œéµå­—" />
            <button>
              <img src="img/backdata/search.svg" alt="" />
            </button>
          </div>
          <div class="page">
            <span class="each">æ¯é é¡¯ç¤º</span>
            <select>
              <option value="" style="color: #927858">10</option>
              <option value="" style="color: #927858">20</option>
              <option value="" style="color: #927858">30</option>
            </select>
            <span class="each">é </span>
          </div>
        </div>
        <!-- è¡¨æ ¼å…§å®¹ -->

        <table class="table table-hover table-pray">
          <thead>
            <tr>
              <th>è¨‚å–®æ˜ç´°ç·¨è™Ÿ</th>
              <th>è¨‚å–®ç·¨è™Ÿ</th>
              <th>å¹³å®‰ç¬¦ç¨®é¡</th>
              <th>ç”Ÿè‚–åç¨±</th>
              <th>å®¢è£½åŒ–æ–‡å­—</th>
              <th>æ•¸é‡</th>
              <th>å–®åƒ¹</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>00000001</td>
              <td>00002021</td>
              <td>æ„Ÿæƒ…</td>
              <td>ç‰›</td>
              <td>æ—©ç”Ÿè²´å­å¹³å®‰å¹¸ç¦</td>
              <td>1</td>
              <td>NT$399</td>
            </tr>
            <tr>
              <td>00000001</td>
              <td>00002021</td>
              <td>æ„Ÿæƒ…</td>
              <td>ç‰›</td>
              <td>æ—©ç”Ÿè²´å­å¹³å®‰å¹¸ç¦</td>
              <td>1</td>
              <td>NT$399</td>
            </tr>
          </tbody>
        </table>
        <!-- è¡¨æ ¼å…§å®¹çµæŸ -->

        <!-- é ç°½ -->
        <div class="pagelist">
          <a href=""> < </a>
          <a href="">1</a>
          <a href="">2</a>
          <a href="">3</a>
          <a href="">4</a>
          <a href="">5</a>
          <a href=""> > </a>
        </div>
      </div>
      <!-- æœƒå“¡è³‡æ–™ -->
      <div class="memberDetail" v-if="show =='showbox11'">
        <personaldata></personaldata>
      </div>
      <!-- çµç·£ç´€éŒ„ -->
      <div class="moneyRecorder" v-if="show =='showbox12'">
        <donate-record></donate-record>
      </div>
    </div>

    <script>
      //ä¾›å“
      var Componentsupplymanage = Vue.component("supplymanage", {
        data() {
          return {
            supply: [],
          };
        },
        created() {
          axios
            .post("phps/offering.php", {
              headers: {
                "Content-Type": "multipart/form-data",
              },
            })
            .then((res) => {
              this.supply = res.data;
            })
            .catch(function (error) {
              console.log(error);
            });
        },
        methods: {
          cancell() {
            axios
              .post("phps/offering.php", {
                headers: {
                  "Content-Type": "multipart/form-data",
                },
              })
              .then((res) => {
                this.supply = res.data;
              })
              .catch(function (error) {
                console.log(error);
              });
          },
          confirm() {
            axios
              .post("phps/offeringUpdate.php", {
                supply: this.supply,
                headers: {
                  "Content-Type": "multipart/form-data",
                },
              })
              .then((res) => {
                alert(res.data);
                location.href = "backweb.html";
              })
              .catch(function (error) {
                console.log(error);
              });
          },
        },
        template: `
      <div class="supply">
        <span>ä¾›å“ç®¡ç†</span>
        <img src="img/backdata/backFix.svg" alt="" />
      <table class="table table-supply">
        <thead>
          <tr>
            <th scope="col">çµ„åˆ</th>
            <th scope="col">å…§å®¹</th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="(item,index) in supply">
            <th><input type="text" v-model="item.off_name" /></th>
            <td>
              <input type="text" v-model="item.off_cont" />
            </td>
          </tr>
        </tbody>
      </table>
      <div class="saveBtn">
        <button class="cancle" data-hover="å–æ¶ˆ" @click="cancell">å–æ¶ˆ</button>
        <button class="save" data-hover="ç¢ºèª" @click="confirm">ç¢ºèª</button>
      </div>
      </div>
      `,
      });
      //ç”Ÿè‚–åœ–
      var Componentzodiacmanage = Vue.component("zodiacmanage", {
        data() {
          return {
            zodiac: [],
            zodiac_no: 1,
            zodiacName: "",
            zodiacImg: "",
            file: "",
            imgChange: "",
            newImgName: "",
          };
        },
        created() {
          axios
            .post("../phps/zodiac.php", {
              headers: {
                "Content-Type": "multipart/form-data",
              },
            })
            .then((res) => {
              this.zodiac = res.data;
              this.zodiacName = this.zodiac[0].zodiac_name;
              this.zodiacImg = this.zodiac[0].zodiac_img;
            })
            .catch(function (error) {
              console.log(error);
            });
        },

        methods: {
          zodiacClick() {
            for (i = 0; i < 12; i++) {
              if (this.zodiac_no == this.zodiac[i].zodiac_no) {
                this.zodiacName = this.zodiac[i].zodiac_name;
                this.zodiacImg = this.zodiac[i].zodiac_img;
              }
            }
          },
          //æ›´æ–°åœ–ç‰‡
          fileChange() {
            //æŠ“åˆ°åœ–ç‰‡
            this.imgChange = "img/amulet/" + this.$refs.file.files[0].name;
            this.newImgName = this.$refs.file.files[0].name;
            this.$forceUpdate();
          },

          updateFile() {
            //ä¸Šå‚³åœ–ç‰‡
            this.file = this.$refs.file.files[0];
            let readFile = new FormData();
            readFile.append("file", this.file);
            axios
              .post("./phps/amuletFixImg.php", readFile, {
                headers: {
                  "Content-Type": "multipart/form-data",
                },
              })
              .then((res) => {
                alert(res.data);
              })
              .catch(function (error) {
                alert("ä¸Šå‚³å¤±æ•—");
              });
            //æ›´æ–°è³‡æ–™åº«å…§çš„åœ–ç‰‡
            axios
              .post("./phps/zodiacUpdateImg.php", {
                zodiac_no: this.zodiac_no,
                zodiac_img: this.imgChange,
                headers: {
                  "Content-Type": "multipart/form-data",
                },
              })
              .then((res) => {
                alert(res.data);
                location.href = "backweb.html";
              })
              .catch(function (error) {
                console.error(error);
              });
          },
        },

        template: `
        <div>
          <div class="supply">
            <span>ç”Ÿè‚–åœ–ç®¡ç†</span>
            <img src="img/backdata/backFix.svg"  />
          </div>
          
          <!-- è¡¨æ ¼å…§å®¹ -->
          <table class="table table-zodiac">
            <thead>
              <tr>
                <th scope="col">ç·¨è™Ÿ</th>
                <th scope="col">ç”Ÿè‚–</th>
                <th scope="col">åŸåœ–æª”</th>
                <th scope="col">æ–°åœ–æª”
                  
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="vertical-align: middle">
                  <select name="ç·¨è™Ÿ" id="" v-model="zodiac_no" @change="zodiacClick">
                    <option v-for="number in 12">{{number}}</option>
                  </select>
                </td>
                <td style="vertical-align: middle">
                  <h5>{{this.zodiacName}}</h5>
                </td>

                <td style="vertical-align: middle">
                  <div class="zodiacImg">
                    <img :src="zodiacImg" alt="zodiac">
                  </div>
                </td>
                <td style="vertical-align: middle">
                  <div class="zodiacImg">
                    <label class="btn">ä¸Šå‚³æª”æ¡ˆ
                      <input type="file" @change="fileChange" ref="file"/>
                    </label>
                    <p>æª”æ¡ˆåç¨±:{{newImgName}}</p>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
          <!-- è¡¨æ ¼å…§å®¹çµæŸ -->          
          <div class="saveBtn" >
            <button class="cancle" data-hover="å–æ¶ˆ">å–æ¶ˆ</button>
            <button class="save" data-hover="ç¢ºèª" @click="updateFile">ç¢ºèª</button>
          </div>
        </div>
        `,
      });
      //å¹³å®‰ç¬¦
      var Componentamuletmanage = Vue.component("amuletmanage", {
        data() {
          return {
            typeNo: 1,
            amuletType: [],
            amuletTypeText: "",
            amuletTypeName: "",
            amuletTypeImg: "",
            file: "",
            imgChange: "",
            newimgName: "",
          };
        },
        created() {
          axios
            .post("../phps/amulet.php", {
              headers: {
                "Content-Type": "multipart/form-data",
              },
            })
            .then((res) => {
              this.amuletType = res.data;
              this.amuletTypeName = this.amuletType[0].type_name;
              this.amuletTypeText = this.amuletType[0].type_text;
              this.amuletTypeImg = this.amuletType[0].type_img;
            })
            .catch(function (error) {
              console.log(error);
            });
        },

        methods: {
          typeClick() {
            for (i = 0; i < 6; i++) {
              if (this.typeNo == this.amuletType[i].type_no) {
                this.amuletTypeName = this.amuletType[i].type_name;
                this.amuletTypeText = this.amuletType[i].type_text;
                this.amuletTypeImg = this.amuletType[i].type_img;
              }
            }
          },

          fileChange() {
            //è¼‰å…¥åœ–ç‰‡
            this.imgChange = "img/amulet/" + this.$refs.file.files[0].name;
            this.newimgName = this.$refs.file.files[0].name;
            this.$forceUpdate();

            //ä¸Šå‚³åœ–ç‰‡
            this.file = this.$refs.file.files[0];
            let readFile = new FormData();
            readFile.append("file", this.file);
            axios
              .post("./phps/amuletFixImg.php", readFile, {
                headers: {
                  "Content-Type": "multipart/form-data",
                },
              })
              .then((res) => {
                alert(res.data);
              })
              .catch(function (error) {
                alert("ä¸Šå‚³å¤±æ•—");
              });
          },

          changeImg() {
            //æ›´æ–°è³‡æ–™åº«åœ–ç‰‡
            axios
              .post("./phps/amuletUpdateImg.php", {
                type_no: this.typeNo,
                type_img: this.imgChange,
                headers: {
                  "Content-Type": "multipart/form-data",
                },
              })
              .then((res) => {
                alert(res.data);
                location.href = "backweb.html";
              })
              .catch(function (error) {
                console.log(error);
              });
          },

          //ä¿®æ”¹ç°¡ä»‹
          changeText() {
            axios
              .post("./phps/amuletUpdate.php", {
                amuletTypeText: this.amuletTypeText,
                typeNo: this.typeNo,
                headers: {
                  "Content-Type": "multipart/form-data",
                },
              })
              .then((res) => {
                alert(res.data);
                location.href = "backweb.html";
              })
              .catch(function (error) {
                alert("ä¿®æ”¹å¤±æ•—");
              });
          },

          updateFile() {
            if (this.imgChange == null) {
              this.changeText();
            } else {
              this.changeImg();
              this.changeText();
            }
          },

          cancel() {
            this.$refs.file.value = "";
          },
        },

        template: `
        <div>
          <div class="supply">
            <span>å¹³å®‰ç¬¦é¡˜ç®¡ç†</span>
            <img src="img/backdata/backFix.svg"  alt="" />
          </div>

          <!-- è¡¨æ ¼å…§å®¹ -->
          <table class="table table-amulet">
            <thead>
              <tr>
                <th scope="col">ç·¨è™Ÿ</th>
                <th scope="col">ç¨®é¡</th>
                <th scope="col">ç°¡ä»‹</th>
                <th scope="col">åŸåœ–æª”</th>
                <th scope="col">æ–°åœ–æª”
                    
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="vertical-align: middle">
                  <select name="ç·¨è™Ÿ" id="" v-model=typeNo @change="typeClick">
                    <option v-for="(number,index) in amuletType" :value="number.type_no">{{number.type_no}}</option>
                  </select>
                </td>
                <td style="vertical-align: middle">
                  <h5>{{this.amuletTypeName}}</h5>
                </td>
                <td style="vertical-align: middle">
                  <textarea name="ç°¡ä»‹" id="" cols="10" rows="10" v-model="amuletTypeText" @change="changeText">
                  </textarea>
                </td>
                <td style="vertical-align: middle">
                  <div class="godImg"><img :src="amuletTypeImg" alt="amulet"></div>
                </td>
                <td style="vertical-align: middle">
                  <div class="godImg">
                    <label class="btn" @change="fileChange">ä¸Šå‚³æª”æ¡ˆ
                      <input type="file" ref="file"/>
                    </label>
										<p>æª”æ¡ˆåç¨±:{{newimgName}}</p>
									</div>
                </td>
              </tr>
            </tbody>
          </table>
          <!-- è¡¨æ ¼å…§å®¹çµæŸ -->
          <div class="saveBtn" >
            <button class="cancle" data-hover="å–æ¶ˆ" @click="cancel">å–æ¶ˆ</button>
            <button class="save" data-hover="ç¢ºå®š" @click="updateFile">ä¿®æ”¹</button>
          </div>
        </div>
      `,
      });
      //å°å¡
      var Componentcardmanage = Vue.component("cardmanage", {
        data() {
          return {
            card: [],
            newcardname: "",
            cardimg: "",
            cards: "1",
            cardalter: "",
            file: "",
          };
        },
        created() {
          axios
            .post("phps/praycard.php", {
              headers: {
                "Content-Type": "multipart/form-data",
              },
            })
            .then((res) => {
              this.card = res.data;
              this.cardimg = this.card[0].card_cont + ".png";
            })
            .catch(function (error) {
              console.log(error);
            });
        },
        methods: {
          selectFile() {
            this.cardalter = "img/pray/" + this.$refs.file.files[0].name;
            this.newcardname = this.$refs.file.files[0].name;
            this.cardalter = this.cardalter.replace(".png", "");
            this.$forceUpdate();
          },
          uploadimg() {
            this.file = this.$refs.file.files[0];
            var formDate = new FormData();
            formDate.append("file", this.file);
            axios
              .post("phps/uploadprayfile.php", formDate, {
                headers: {
                  "Content-Type": "multipart/form-data",
                },
              })
              .then((res) => {
                alert(res.data);
              })
              .catch(function (error) {
                alert("ä¸Šå‚³å¤±æ•—");
              });
            axios
              .post("phps/cardUpdate.php", {
                card_no: this.cards,
                card_cont: this.cardalter,
                headers: {
                  "Content-Type": "multipart/form-data",
                },
              })
              .then((res) => {
                alert(res.data);
                location.href = "backweb.html";
              })
              .catch(function (error) {
                console.log(error);
              });
          },
          upcardimg() {
            this.cardimg = this.card[this.cards - 1].card_cont + ".png";
          },
          cancell() {
            this.$refs.file.value = "";
            this.newcardname = "";
          },
        },
        template: `
      <div class="supply">
        <span>å°å¡ç®¡ç†</span>
        <img src="img/backData/backFix.svg"/>
      <div class="prayTable">
        <table class="table table-card">
          <thead>
            <tr>
              <th scope="col">ç¨®é¡</th>
              <th scope="col">å°å¡</th>
              <th scope="col">æ–°å°å¡åœ–æª”</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <select v-model="cards" @change="upcardimg">
                  <option v-for="(item,index) in card" :value="item.card_no">
                    ç¬¬{{item.card_no}}å¼µ
                  </option>
                 </select>
              </td>
              <td><img class="cardimg" :src="cardimg"></td>
              <td>
                <label class="updatefile" @change="selectFile">
                <input id="upload_img" type="file" ref="file">
                <i></i> ä¸Šå‚³åœ–ç‰‡
                </label>
                <span>{{newcardname}}</span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="saveBtn">
        <button class="cancle" data-hover="å–æ¶ˆ" @click="cancell">å–æ¶ˆ</button>
        <button class="save" data-hover="ç¢ºèª" @click="uploadimg">ç¢ºèª</button>
      </div>
      </div>
      `,
      });
      //ç¥ˆé¡˜ç´€éŒ„
      var Componentprayrecord = Vue.component("prayrecord", {
        data() {
          return {
            prayerdata: [],
            searchval: "",
            pno: 1, //ç›®å‰é æ•¸
            psize: 3, //é é¢ç­†æ•¸
            currentPage: 1, //ç›®å‰é é¢
            totalPage: 0, //ç¸½é æ•¸
            num: 0, //è¡¨æ ¼æ•¸é‡
          };
        },
        created() {
          axios
            .post("phps/prayerrecordShow.php", {
              headers: {
                "Content-Type": "multipart/form-data",
              },
            })
            .then((res) => {
              this.prayerdata = res.data;
            })
            .catch(function (error) {
              console.log(error);
            });
        },
        methods: {
          list() {
            //æœå°‹
            this.pno = 1;
            let search = this.searchval;
            this.prayerdata = this.prayerdata.filter(function (index) {
              return Object.keys(index).some(function (key) {
                return String(index[key]).indexOf(search) != -1;
              });
            });
          },
          nextpage() {
            this.currentPage = this.pno; //ç›®å‰é æ•¸
            let startRow = (this.currentPage - 1) * this.psize + 1; //é–‹å§‹é¡¯ç¤ºè¡Œ
            let endRow = this.currentPage * this.psize; //çµæŸé¡¯ç¤ºè¡Œ
            endRow = endRow > this.num ? this.num : endRow;
            if (this.currentPage < this.totalPage) {
              this.pno += 1;
            }
          },
          previouspage() {
            this.currentPage = this.pno; //ç›®å‰é æ•¸
            let startRow = (this.currentPage - 1) * this.psize + 1; //é–‹å§‹é¡¯ç¤ºè¡Œ
            let endRow = this.currentPage * this.psize; //çµæŸé¡¯ç¤ºè¡Œ
            endRow = endRow > this.num ? this.num : endRow;
            if (this.currentPage > 1) {
              this.pno -= 1;
            } else if (this.currentPage == 1) {
              this.pno = 1;
            }
          },
          first() {
            this.pno = 1;
          },
          end() {
            this.pno = this.totalPage;
          },
        },
        updated() {
          this.num = this.prayerdata.length; //è¡¨æ ¼æ•¸é‡
          //ç¸½å…±åˆ†å¹¾é 
          if (this.num / this.psize > parseInt(this.num / this.psize)) {
            this.totalPage = parseInt(this.num / this.psize) + 1;
          } else {
            this.totalPage = parseInt(this.num / this.psize);
          }
          this.currentPage = this.pno; //ç›®å‰é æ•¸
          let startRow = (this.currentPage - 1) * this.psize + 1; //é–‹å§‹é¡¯ç¤ºè¡Œ
          let endRow = this.currentPage * this.psize; //çµæŸé¡¯ç¤ºè¡Œ
          endRow = endRow > this.num ? this.num : endRow;
          for (let i = 1; i < this.num + 1; i++) {
            if (i >= startRow && i <= endRow) {
              $("#tablepray tbody tr:nth-child(" + i + ")").css({
                display: "table-row",
              });
            } else {
              $("#tablepray tbody tr:nth-child(" + i + ")").css({
                display: "none",
              });
            }
          }
        },
        watch: {
          searchval() {
            if (this.searchval == "") {
              axios
                .post("phps/prayerrecordShow.php", {
                  headers: {
                    "Content-Type": "multipart/form-data",
                  },
                })
                .then((res) => {
                  this.prayerdata = res.data;
                })
                .catch(function (error) {
                  console.log(error);
                });
            }
          },
          pno() {
            if (this.num / this.psize > parseInt(this.num / this.psize)) {
              this.totalPage = parseInt(this.num / this.psize) + 1;
            } else {
              this.totalPage = parseInt(this.num / this.psize);
            }
            this.currentPage = this.pno; //ç›®å‰é æ•¸
            let startRow = (this.currentPage - 1) * this.psize + 1; //é–‹å§‹é¡¯ç¤ºè¡Œ
            let endRow = this.currentPage * this.psize; //çµæŸé¡¯ç¤ºè¡Œ
            endRow = endRow > this.num ? this.num : endRow;
            for (let i = 1; i < this.num + 1; i++) {
              if (i >= startRow && i <= endRow) {
                $("#tablepray tbody tr:nth-child(" + i + ")").css({
                  display: "table-row",
                });
              } else {
                $("#tablepray tbody tr:nth-child(" + i + ")").css({
                  display: "none",
                });
              }
            }
          },
          psize() {
            this.pno = 1;
          },
        },
        template: `
      <div>
        <span>ç¥ˆé¡˜ç´€éŒ„</span>
      <div class="searchbox">
        <div class="search">
          <input type="text" placeholder="æœå°‹é—œéµå­—"  v-model="searchval" />
          <button @click="list">
            <img src="img/backData/search.svg" alt="" />
          </button>
      </div>
          <div class="page">
            <span class="each">æ¯é é¡¯ç¤º</span>
            <select v-model="psize">
              <option value="3" style="color: #927858">3</option>
              <option value="5" style="color: #927858">5</option>
              <option value="10" style="color: #927858">10</option>
            </select>
            <span class="each">ç­†</span>
          </div>
      </div>
      <!-- è¡¨æ ¼å…§å®¹ -->
      <table class="table table-hover table-pray" id="tablepray">
        <thead>
          <tr>
            <th scope="col">ç¥ˆé¡˜ç´€éŒ„ç·¨è™Ÿ</th>
            <th scope="col">æœƒå“¡ç·¨è™Ÿ</th>
            <th scope="col">ä¾›å“</th>
            <th scope="col">å°å¡</th>
            <th scope="col">ç¥ˆé¡˜æ—¥æœŸ</th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="(item,index) in prayerdata">
            <th>{{item.pray_rec}}</th>
            <td>{{item.mem_no}}</td>
            <td>{{item.off_name+'-'+item.off_cont}}</td>
            <td><img :src="item.card_cont+'.png'"></td>
            <td>{{item.pray_date}}</td>
          </tr>
        </tbody>
      </table>
      <!-- è¡¨æ ¼å…§å®¹çµæŸ -->

      <!-- é ç°½ -->
      <div class="pagelist">
          <h4> ç¸½å…±{{num}}ç­†ï¼Œ{{totalPage}}é  </h4>
          <a href="#"@click="first">é¦–é </a>
          <a href="#"@click="previouspage"> < </a>
          <a>{{currentPage}}</a>
          <a href="#" @click="nextpage"> > </a>
          <a href="#"@click="end">æœ«é </a>
      </div>
      </div>
      `,
      });
      //æœƒå“¡
      var Componentmember = Vue.component("personaldata", {
        data() {
          return {
            personaldata: [],
            searchval: "",
            pno: 1, //ç›®å‰é æ•¸
            psize: 10, //é é¢ç­†æ•¸
            currentPage: 1, //ç›®å‰é é¢
            totalPage: 0, //ç¸½é æ•¸
            num: 0, //è¡¨æ ¼æ•¸é‡
          };
        },
        created() {
          axios
            .post("phps/memberShow.php", {
              headers: {
                "Content-Type": "multipart/form-data",
              },
            })
            .then((res) => {
              for (i = 0; i < res.data.length; i++) {
                let add = res.data[i].mem_status;
                if (add == "0") {
                  add = "æ­£å¸¸";
                } else if (add == "1") {
                  add = "å¾…é©—è­‰";
                } else if (add == "2") {
                  add = "åœæ¬Š";
                }
                res.data[i].mem_status = add;
              }
              this.personaldata = res.data;
            })
            .catch(function (error) {
              console.log(error);
            });
        },
        updated() {
          this.num = this.personaldata.length; //è¡¨æ ¼æ•¸é‡
          //ç¸½å…±åˆ†å¹¾é 
          if (this.num / this.psize > parseInt(this.num / this.psize)) {
            this.totalPage = parseInt(this.num / this.psize) + 1;
          } else {
            this.totalPage = parseInt(this.num / this.psize);
          }
          this.currentPage = this.pno; //ç›®å‰é æ•¸
          let startRow = (this.currentPage - 1) * this.psize + 1; //é–‹å§‹é¡¯ç¤ºè¡Œ
          let endRow = this.currentPage * this.psize; //çµæŸé¡¯ç¤ºè¡Œ
          endRow = endRow > this.num ? this.num : endRow;
          for (let i = 1; i < this.num + 1; i++) {
            if (i >= startRow && i <= endRow) {
              $("#membertable tbody tr:nth-child(" + i + ")").css({
                display: "table-row",
              });
            } else {
              $("#membertable tbody tr:nth-child(" + i + ")").css({
                display: "none",
              });
            }
          }
        },
        methods: {
          list() {
            //æœå°‹
            this.pno = 1;
            let search = this.searchval;
            this.personaldata = this.personaldata.filter(function (index) {
              return Object.keys(index).some(function (key) {
                return String(index[key]).indexOf(search) != -1;
              });
            });
          },
          nextpage() {
            this.currentPage = this.pno; //ç›®å‰é æ•¸
            let startRow = (this.currentPage - 1) * this.psize + 1; //é–‹å§‹é¡¯ç¤ºè¡Œ
            let endRow = this.currentPage * this.psize; //çµæŸé¡¯ç¤ºè¡Œ
            endRow = endRow > this.num ? this.num : endRow;
            if (this.currentPage < this.totalPage) {
              this.pno += 1;
            }
          },
          previouspage() {
            this.currentPage = this.pno; //ç›®å‰é æ•¸
            let startRow = (this.currentPage - 1) * this.psize + 1; //é–‹å§‹é¡¯ç¤ºè¡Œ
            let endRow = this.currentPage * this.psize; //çµæŸé¡¯ç¤ºè¡Œ
            endRow = endRow > this.num ? this.num : endRow;
            if (this.currentPage > 1) {
              this.pno -= 1;
            } else if (this.currentPage == 1) {
              this.pno = 1;
            }
          },
          first() {
            this.pno = 1;
          },
          end() {
            this.pno = this.totalPage;
          },
        },
        watch: {
          searchval() {
            if (this.searchval == "") {
              axios
                .post("phps/memberShow.php", {
                  headers: {
                    "Content-Type": "multipart/form-data",
                  },
                })
                .then((res) => {
                  for (i = 0; i < res.data.length; i++) {
                    let add = res.data[i].mem_status;
                    if (add == "0") {
                      add = "æ­£å¸¸";
                    } else if (add == "1") {
                      add = "å¾…é©—è­‰";
                    } else if (add == "2") {
                      add = "åœæ¬Š";
                    }
                    res.data[i].mem_status = add;
                  }
                  this.personaldata = res.data;
                })
                .catch(function (error) {
                  console.log(error);
                });
            }
          },
          pno() {
            if (this.num / this.psize > parseInt(this.num / this.psize)) {
              this.totalPage = parseInt(this.num / this.psize) + 1;
            } else {
              this.totalPage = parseInt(this.num / this.psize);
            }
            this.currentPage = this.pno; //ç›®å‰é æ•¸
            let startRow = (this.currentPage - 1) * this.psize + 1; //é–‹å§‹é¡¯ç¤ºè¡Œ
            let endRow = this.currentPage * this.psize; //çµæŸé¡¯ç¤ºè¡Œ
            endRow = endRow > this.num ? this.num : endRow;
            for (let i = 1; i < this.num + 1; i++) {
              if (i >= startRow && i <= endRow) {
                $("#membertable tbody tr:nth-child(" + i + ")").css({
                  display: "table-row",
                });
              } else {
                $("#membertable tbody tr:nth-child(" + i + ")").css({
                  display: "none",
                });
              }
            }
          },
          psize() {
            this.pno = 1;
          },
        },
        template: `<div>
            <span>æœƒå“¡è³‡æ–™</span>
          <div class="searchbox">
            <div class="search">
              <input type="text" placeholder="æœå°‹é—œéµå­—"  v-model="searchval" />
              <button @click="list">
                <img src="img/backData/search.svg" alt="" />
              </button>
            </div>
            <div class="page">
              <span class="each">æ¯é é¡¯ç¤º</span>
              <select v-model="psize">
                <option value="10" style="color: #927858">10</option>
                <option value="20" style="color: #927858">20</option>
                <option value="30" style="color: #927858">30</option>
              </select>
              <span class="each">ç­†</span>
            </div>
          </div>
          <table class="table table-hover table-pray" id="membertable">
            <thead>
              <tr>
                <th>æœƒå“¡ç·¨è™Ÿ</th>
                <th>å§“å</th>
                <th>æœƒå“¡å¸³è™Ÿ</th>
                <th>æœƒå“¡å¯†ç¢¼</th>
                <th>æ‰‹æ©Ÿè™Ÿç¢¼</th>
                <th>ä¿¡ç®±</th>
                <th>åŠ å…¥æ—¥æœŸ</th>
                <th>æœƒå“¡ç‹€æ…‹</th>
              </tr>
            </thead>
            <tbody>
              <tr v-for="(item,index) in personaldata">
                <td>{{item.mem_no}}</td>
                <td>{{item.mem_name}}</td>
                <td>{{item.mem_id}}</td>
                <td>{{item.mem_psw}}</td>
                <td>{{item.phone}}</td>
                <td>{{item.email}}</td>
                <td>{{item.mem_date}}</td>
                <td >{{item.mem_status}}</td>
              </tr>
            </tbody>
          </table>
          <div class="pagelist">
            <h4> ç¸½å…±{{num}}ç­†ï¼Œ{{totalPage}}é  </h4>
            <a href="#"@click="first">é¦–é </a>
            <a href="#"@click="previouspage"> < </a>
            <a>{{currentPage}}</a>
            <a href="#" @click="nextpage"> > </a>
            <a href="#"@click="end">æœ«é </a>
          </div>
        </div>`,
      });

      //è¨‚å–®ç®¡ç†
      var Componentorders = Vue.component("my-orders", {
        data() {
          return {
            //products-orders ---
            orders: [],
            newOrders: [],
            getFilters: [],
            Mes: "",
            //ordersLists ---
            orderLists: [],
            currentindex: "",
            currentDetailsNo: 1,
            isShow: false,
            //open-orders ---
            isOpen: "",
            process: [],
            deliver: [],
            finish: [],
            //optionChanges
            optionLists: [10, 20, 30],
            optionNum: 10,
            // page
            searchval: "",
            pno: 1, //ç›®å‰é æ•¸
            psize: 10, //é é¢ç­†æ•¸
            currentPage: 1, //ç›®å‰é é¢
            totalPage: 0, //ç¸½é æ•¸
            num: 0, //è¡¨æ ¼æ•¸é‡
          };
        },
        methods: {
          showButton() {
            if (this.button == false) {
              this.button = true;
            } else {
              this.button = false;
            }
          },
          CurrentDetails(index) {
            this.isShow = true;
            this.currentDetailsNo = num;
            this.currentindex = this.orderLists[index];
          },
          setCurrentDetailsNo(num) {
            this.isShow = true;
            this.currentDetailsNo = num;
          },
          onProcess() {
            this.isOpen = "Open1";
            this.process = this.orders.filter((item) => item.order_status == 0);
          },
          delivering() {
            this.isOpen = "Open2";
            this.deliver = this.orders.filter((item) => item.order_status == 1);
          },
          done() {
            this.isOpen = "Open3";
            this.finish = this.orders.filter((item) => item.order_status == 2);
          },
          amountChange(e) {
            this.optionNum = e.target.value;
            console.log(e.target.value);
          },
          // page
          nextpage() {
            this.currentPage = this.pno; //ç›®å‰é æ•¸
            let startRow = (this.currentPage - 1) * this.psize + 1; //é–‹å§‹é¡¯ç¤ºè¡Œ
            let endRow = this.currentPage * this.psize; //çµæŸé¡¯ç¤ºè¡Œ
            endRow = endRow > this.num ? this.num : endRow;
            if (this.currentPage < this.totalPage) {
              this.pno += 1;
            }
          },
          previouspage() {
            this.currentPage = this.pno; //ç›®å‰é æ•¸
            let startRow = (this.currentPage - 1) * this.psize + 1; //é–‹å§‹é¡¯ç¤ºè¡Œ
            let endRow = this.currentPage * this.psize; //çµæŸé¡¯ç¤ºè¡Œ
            endRow = endRow > this.num ? this.num : endRow;
            if (this.currentPage > 1) {
              this.pno -= 1;
            } else if (this.currentPage == 1) {
              this.pno = 1;
            }
          },
          first() {
            this.pno = 1;
          },
          end() {
            this.pno = this.totalPage;
          },
        },
        updated() {
          this.num = this.orders.length; //è¡¨æ ¼æ•¸é‡
          //ç¸½å…±åˆ†å¹¾é 
          if (this.num / this.psize > parseInt(this.num / this.psize)) {
            this.totalPage = parseInt(this.num / this.psize) + 1;
          } else {
            this.totalPage = parseInt(this.num / this.psize);
          }
          this.currentPage = this.pno; //ç›®å‰é æ•¸
          let startRow = (this.currentPage - 1) * this.psize + 1; //é–‹å§‹é¡¯ç¤ºè¡Œ
          let endRow = this.currentPage * this.psize; //çµæŸé¡¯ç¤ºè¡Œ
          endRow = endRow > this.num ? this.num : endRow;
          for (let i = 1; i < this.num + 1; i++) {
            if (i >= startRow && i <= endRow) {
              $("#tablepray tbody tr:nth-child(" + i + ")").css({
                display: "table-row",
              });
            } else {
              $("#tablepray tbody tr:nth-child(" + i + ")").css({
                display: "none",
              });
            }
          }
        },
        watch: {
          searchval() {
            if (this.searchval == "") {
              axios
                .post("../phps/orderscopy.php", {
                  headers: {
                    "Content-Type": "multipart/form-data",
                  },
                })
                .then((res) => {
                  this.orders = res.data;
                })
                .catch(function (error) {
                  console.log(error);
                });
            }
          },
          pno() {
            if (this.num / this.psize > parseInt(this.num / this.psize)) {
              this.totalPage = parseInt(this.num / this.psize) + 1;
            } else {
              this.totalPage = parseInt(this.num / this.psize);
            }
            this.currentPage = this.pno; //ç›®å‰é æ•¸
            let startRow = (this.currentPage - 1) * this.psize + 1; //é–‹å§‹é¡¯ç¤ºè¡Œ
            let endRow = this.currentPage * this.psize; //çµæŸé¡¯ç¤ºè¡Œ
            endRow = endRow > this.num ? this.num : endRow;
            for (let i = 1; i < this.num + 1; i++) {
              if (i >= startRow && i <= endRow) {
                $("#tablepray tbody tr:nth-child(" + i + ")").css({
                  display: "table-row",
                });
              } else {
                $("#tablepray tbody tr:nth-child(" + i + ")").css({
                  display: "none",
                });
              }
            }
          },
          psize() {
            this.pno = 1;
          },
          optionNum(n, o) {
            console.log(n, o);
            if (n == this.optionNum) {
              this.newOrders = this.orders.slice(0, n);
            }
          },
        },
        computed: {
          rendorList() {
            return this.newOrders.slice(0, this.optionNum);
          },
          currentObj() {
            return this.orderLists.find(
              // (v) => v.Details_no == this.currentDetailsNo
              (v) => v.orders_no == this.currentDetailsNo
            );
          },
          filterList() {
            return this.rendorList.filter((v) => v.status == this.status);
          },
        },
        mounted() {
          //products-orders ---
          axios.get("../phps/orderscopy.php").then((res) => {
            this.orders = res.data;
            this.newOrders = res.data;
          });
          // orderLists----
          axios
            .get("../phps/orderslist.php")
            .then((res) => (this.orderLists = res.data));
        },

        template: `
      <div>
          <div class="products-man">
            <span class="order">å•†å“è¨‚å–®</span>
            <div class="icon1">
              <img src="img/backdata/backFix.svg" alt="" />
            </div>
          </div>

          <div class="second">
              <div class="search">
                
              </div>

              <div class="page">
                <span class="each">æ¯é é¡¯ç¤º</span>
                <select @change="amountChange($event)">
                  <option :value="optionLists[index]" style="color: #927858"  v-for=" (option,index) in optionLists ">{{option}}</option>
                </select>
                <span class="each">é </span>
            </div>

             
        </div>
        <!-- first-row_end---------- -->


        <!-- filter-start -->
        <div class="listfilter">

          <div class="filters" @click="isOpen=''">
          <p>å…¨éƒ¨</p>
          </div>

          <div class="filters" @click="onProcess">
          <p>è™•ç†ä¸­</p>
          </div>

          <div class="filters" @click="delivering">
            <p>å·²å‡ºè²¨</p>
          </div>
      
          <div class="filters" @click="done">
            <p>å®Œæˆè¨‚å–®</p>
          </div>
        </div>
        <!-- filter-end -->

        <!-- table1_start---------- -->
        <table class="table" rules="all" cellpadding="5">
          <thead>
            <tr>
              <th>è¨‚å–®ç·¨è™Ÿ</th>
              <th>æœƒå“¡ç·¨è™Ÿ</th>
              <th>è¨‚å–®æ™‚é–“</th>
              <th>è¨‚å–®ç¸½é‡‘é¡</th>
              <th>é…é€æ–¹å¼</th>
              <th>è¨‚å–®ç‹€æ…‹</th>
              <th>è¨‚å–®æ˜ç´°</th>
            </tr>
          </thead>
          <tbody class=" whiteline colortype" >
            <tr v-for="(order,index) in newOrders" :key="order.orders_no" v-if="isOpen==''">
              <td class="arrow">{{order.orders_no}}</td>
              <td>{{order.mem_no}}</td>
              <td>{{order.orders_date}}</td>
              <td>{{order.orders_total}}</td>
              <td>{{order.delivery}}</td>
              <td>{{order.order_status}}</td>
              <td v-on:click="setCurrentDetailsNo(order.orders_no)" class="listdetails">ğŸ“’</td>
            </tr>

            <tr v-for="(order,index) in process" :key="order.orders_no" v-if="isOpen=='Open1'">
              <td class="arrow">{{order.orders_no}}</td>
              <td>{{order.mem_no}}</td>
              <td>{{order.orders_date}}</td>
              <td>{{order.orders_total}}</td>
              <td>{{order.delivery}}</td>
              <td>{{order.order_status}}</td>
              <td v-on:click="setCurrentDetailsNo(order.orders_no)" class="listdetails">ğŸ“’</td>
            </tr>

            <tr v-for="(order,index) in deliver" :key="order.orders_no" v-if="isOpen=='Open2'">
              <td class="arrow">{{order.orders_no}}</td>
              <td>{{order.mem_no}}</td>
              <td>{{order.orders_date}}</td>
              <td>{{order.orders_total}}</td>
              <td>{{order.delivery}}</td>
              <td>{{order.order_status}}</td>
              <td v-on:click="setCurrentDetailsNo(order.orders_no)" class="listdetails">ğŸ“’</td>
            </tr>

            <tr v-for="(order,index) in finish" :key="order.orders_no" v-if="isOpen=='Open3'">
              <td class="arrow">{{order.orders_no}}</td>
              <td>{{order.mem_no}}</td>
              <td>{{order.orders_date}}</td>
              <td>{{order.orders_total}}</td>
              <td>{{order.delivery}}</td>
              <td>{{order.order_status}}</td>
              <td v-on:click="setCurrentDetailsNo(order.orders_no)" class="listdetails">ğŸ“’</td>
            </tr>
          </tbody>
        </table>
        <!-- table1_end--------- -->
        
        <!-- window_start--------- -->

        <section class="windowspace" v-if="isShow">
          <div class="detelepic" @click="isShow=false">âœ˜</div>
          <h3 class="windowdetalis">è¨‚å–®æ˜ç´°</h3>
          <hr>
          <ol class="windowol" >
           <li>è¨‚å–®æ˜ç´°ç·¨è™Ÿ: {{currentObj.Details_no}} </li>
           <li>è¨‚å–®ç·¨è™Ÿ: {{currentObj.orders_no}}</li>
           <li>æ”¶ä»¶äººå§“å: {{currentObj.recipient}}</li>
           <li>æ”¶ä»¶äººé›»è©±: {{currentObj.orders_phone}} </li>
           <li>æ”¶ä»¶äººåœ°å€: {{currentObj.orders_add}}</li>
           <li>æ”¶ä»¶äººä¿¡ç®±: {{currentObj.orders_email}}</li>
           <li>å¹³å®‰ç¬¦ç¨®é¡: {{currentObj.type_no}}</li>
           <li>ç”Ÿè‚–åç¨±: {{currentObj.zodiac_no}} </li>
           <li>å®¢è£½åŒ–æ–‡å­—: {{currentObj.word}}</li>
           <li>æ•¸é‡ :{{currentObj.amulet_amount}}</li>
           <li>å–®åƒ¹: {{currentObj.price}}</li>
         </ol>
        </section>
        <!-- window_end--------- -->
        <!-- ------Next-pages -->
        <div class="pagelist">
            <h4> ç¸½å…±{{num}}ç­†ï¼Œ{{totalPage}}é  </h4>
            <a href="#"@click="first">é¦–é </a>
            <a href="#"@click="previouspage"> < </a>
            <a>{{currentPage}}</a>
            <a href="#" @click="nextpage"> > </a>
            <a href="#"@click="end">æœ«é </a>
          </div>
    </div>
          `,
      });
      //ç®¡ç†å“¡
      var Componentadmin = Vue.component("my-admin", {
        data() {
          return {
            administratorList: [],
          };
        },
        methods: {},
        template: ` 
        <div>
          <div class="supply">
            <span>ç®¡ç†å“¡</span>
          </div>

        <!-- è¡¨æ ¼å…§å®¹ -->
        <table class="table table-hover table-admin">
          <thead>
            <tr>
              <th scope="col">ç·¨è™Ÿ</th>
              <th scope="col">åç¨±</th>
              <th scope="col">å¯†ç¢¼</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="(administrator, index) in  administratorList" :key=" administrator.admin_no">
              <td>{{administrator.admin_no}}</td>
              <td>{{administrator.admin_name}}</td>
              <td>{{administrator.admin_psw}}</td>
              <td></td>
            </tr>
          </tbody>
        </table>
        <!-- è¡¨æ ¼å…§å®¹çµæŸ -->
        
          </div>
      `,
        created() {
          //admin
          axios
            .get("./phps/admin.php")
            .then((res) => (this.administratorList = res.data));
        },
      });
      //ç±¤è©©ç®¡ç†
      var Componentpomes = Vue.component("my-pomes", {
        data() {
          return {
            pomeNumber: "1",
            pomesList: [],
            imgChange: "",
            newImgName: "",
          };
        },
        methods: {
          //ç±¤è©©ç®¡ç†
          fileChange() {
            //æŠ“åˆ°åœ–ç‰‡
            this.imgChange = "img/pomes/" + this.$refs.file.files[0].name;
            this.newImgName = this.$refs.file.files[0].name;
            this.$forceUpdate();

            //ä¸Šå‚³åœ–ç‰‡
            this.file = this.$refs.file.files[0];
            let readFile = new FormData();
            readFile.append("file", this.file);
            axios
              .post("./phps/pomesFixImg.php", readFile, {
                headers: {
                  "Content-Type": "multipart/form-data",
                },
              })
              .then((res) => {
                alert(res.data);
              })
              .catch(function (error) {});

            //æ›´æ–°è³‡æ–™åº«å…§çš„åœ–ç‰‡
            axios
              .post("./phps/pomesUpdate.php", {
                pomes_no: this.pomeNumber,
                pomes_content: this.imgChange,

                headers: {
                  "Content-Type": "multipart/form-data",
                },
              })
              .then((res) => {
                alert(res.data);
                location.href = "backweb.html";
              })
              .catch(function (error) {
                console.log(error);
              });
          },
        },
        computed: {
          pomeconImg() {
            return this.pomesList[this.pomeNumber - 1]?.pomes_content;
          },
        },
        created() {
          axios
            .post("./phps/pomes.php")
            .then((res) => (this.pomesList = res.data));
        },
        template: `
        <div>
          <div class="supply">
            <span>ç±¤è©©ç®¡ç†</span>
            <img src="img/backdata/backFix.svg" />
          </div>
          <div class="searchbox">
            <div class="search">
              <input type="text" placeholder="æœå°‹é—œéµå­—" />
              <button><img src="img/backdata/search.svg" alt="" /></button>
            </div>
          
          </div>
          <!-- è¡¨æ ¼å…§å®¹ -->
          <table class="table table-pomemange">
            <thead>
              <tr>
                <th scope="col">ç¨®é¡</th>
                <th scope="col">ç·¨è™Ÿ</th>
                <th scope="col">æ–°ç±¤è©©åœ–æª”</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="vertical-align: middle">
                   <label class="btn" style="width:120px;">å…­åç”²å­ç±¤
                    </label>
                </td>
                <td style="vertical-align: middle">
                  <select
                    v-model="pomeNumber"
                    name="ç·¨è™Ÿ"
                  
                  >
                    <option v-for="number in 60">{{number}}</option>
                  </select>
                </td>

                <td style="vertical-align: middle">
                  <label class="btn">ä¸Šå‚³æª”æ¡ˆ
                      <input type="file" @change="fileChange" ref="file"/><br>
                  </label>
                </td>
              </tr>
            </tbody>
          </table>
          <!-- è¡¨æ ¼å…§å®¹çµæŸ -->

          <!-- åœ–æª” -->
          <div class="picbox">
            <span>åœ–æª”</span>
            <div class="firstpic">
              <span>åŸåœ–æª”</span>
              <img :src="pomeconImg" alt="åŸåœ–æª”" />
            </div>

            <div class="firstpic2">
              <span>æ–°åœ–æª”</span>
            
              <p>{{newImgName}}</p>
            </div>
          </div>
          <div class="saveBtn" >
            <button class="cancle" data-hover="å–æ¶ˆ">å–æ¶ˆ</button>
            <button class="save" data-hover="ç¢ºèª" @click="fileChange">ç¢ºèª</button>
          </div>
        </div>
        `,
      });

      //è§£ç±¤ç®¡ç†
      var Componentpomesdetail = Vue.component("my-pomedetail", {
        data() {
          return {
            pomeDetailNumber: "1",
            image4: "",
            button: false,
            pomesList: [],
            imgChange2: "",
            newImgName2: "",
          };
        },
        methods: {
          //è§£ç±¤å…§å®¹ç®¡ç†
          fileChange2() {
            //æŠ“åˆ°åœ–ç‰‡
            this.imgChange2 =
              "img/pomesdetail/" + this.$refs.file.files[0].name;
            this.newImgName2 = this.$refs.file.files[0].name;
            this.$forceUpdate();

            //ä¸Šå‚³åœ–ç‰‡
            this.file = this.$refs.file.files[0];
            let readFile = new FormData();
            readFile.append("file", this.file);
            axios
              .post("./phps/pomesdetailFixImg.php", readFile, {
                headers: {
                  "Content-Type": "multipart/form-data",
                },
              })
              .then((res) => {
                alert(res.data);
              })
              .catch(function (error) {});

            //æ›´æ–°è³‡æ–™åº«å…§çš„åœ–ç‰‡
            axios
              .post("./phps/pomesdetailUpdate.php", {
                pomes_no: this.pomeDetailNumber,
                pomes_det: this.imgChange2,

                headers: {
                  "Content-Type": "multipart/form-data",
                },
              })
              .then((res) => {
                alert(res.data);
                location.href = "backweb.html";
              })
              .catch(function (error) {
                console.log(error);
              });
          },
        },
        computed: {
          pomedetImg() {
            return this.pomesList[this.pomeDetailNumber - 1]?.pomes_det;
          },
        },
        created() {
          axios
            .get("./phps/pomes.php")
            .then((res) => (this.pomesList = res.data));
        },

        template: `
        <div>
          <div class="supply">
            <span>è§£ç±¤å…§å®¹ç®¡ç†</span>
            <img src="img/backdata/backFix.svg"  />
          </div>
          <div class="searchbox">
            <div class="search">
              <input type="text" placeholder="æœå°‹é—œéµå­—" />
              <button><img src="img/backdata/search.svg" alt="" /></button>
            </div>
         
          </div>
          <!-- è¡¨æ ¼å…§å®¹ -->
          <table class="table table-pomemange">
            <thead>
              <tr>
                <th scope="col">ç¨®é¡</th>
                <th scope="col">ç·¨è™Ÿ</th>
                <th scope="col">æ–°ç±¤è©©åœ–æª”</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="vertical-align: middle">
                  <label class="btn" style="width:120px;">å…­åç”²å­ç±¤
                    </label>
                </td>
                <td style="vertical-align: middle">
                  <select
                    v-model="pomeDetailNumber"
                    name="ç·¨è™Ÿ"
                  
                  >
                    <option v-for="number in 60">{{number}}</option>
                  </select>
                </td>

                <td style="vertical-align: middle">
                 
                  <label class="btn">ä¸Šå‚³æª”æ¡ˆ
                      <input type="file" @change="fileChange2" ref="file"/><br>
                  </label>
                </td>
              </tr>
            </tbody>
          </table>
          <!-- è¡¨æ ¼å…§å®¹çµæŸ -->

          <!-- åœ–æª” -->
          <div class="picbox">
            <span>åœ–æª”</span>
            <div class="firstpic">
              <span>åŸåœ–æª”</span>
              <img :src="pomedetImg" alt="åŸåœ–æª”" />
            </div>

            <div class="firstpic2">
              <span>æ–°åœ–æª”</span>
         
              <p>{{newImgName2}}</p>
            </div>
          </div>
          <div class="saveBtn" >
            <button class="cancle" data-hover="å–æ¶ˆ">å–æ¶ˆ</button>
            <button class="save" @click="fileChange2" data-hover="ç¢ºèª">ç¢ºèª</button>
          </div>
        </div>
        `,
      });

      // æ±‚ç±¤ç´€éŒ„
      var Componentpomesrecorder = Vue.component("my-pomerecorder", {
        data() {
          return {
            pomesRecorderList: [],
          };
        },
        methods: {},
        template: `
        <div>
          <div class="supply">
            <span>æ±‚ç±¤ç´€éŒ„</span>
          </div>
          <div class="searchbox">
            <div class="search">
              <input type="text" placeholder="æœå°‹é—œéµå­—" />
              <button><img src="img/backdata/search.svg" alt="" /></button>
            </div>
            <div class="page">
              <span class="each">æ¯é é¡¯ç¤º</span>
              <select>
                <option value="" style="color: #927858">10</option>
                <option value="" style="color: #927858">20</option>
                <option value="" style="color: #927858">30</option>
              </select>
              <span class="each">é </span>
            </div>
          </div>
          <!-- è¡¨æ ¼å…§å®¹ -->
          <table class="table table-pray table-hover">
            <thead>
              <tr>
                <th scope="col">æ±‚ç±¤ç´€éŒ„ç·¨è™Ÿ</th>
                <th scope="col">æœƒå“¡ç·¨è™Ÿ</th>
                <th scope="col">ç±¤è©©</th>
                <th scope="col">æ±‚ç±¤æ—¥æœŸ</th>
              </tr>
            </thead>
            <tbody>
              <tr v-for="(Recorder, index) in pomesRecorderList" :key="Recorder.pomes_recno">
                  <td>{{Recorder.pomes_recno}}</td>
                  <td>{{Recorder.pomes_no}}</td>
                  <td>{{Recorder.mem_no}}</td>
                  <td>{{Recorder.pomes_date}}</td>
                </tr>
            </tbody>
          </table>
          <!-- è¡¨æ ¼å…§å®¹çµæŸ -->

          <!-- é ç°½ -->
          <div class="pagelist">
            <a href=""> < </a>
            <a href="">1</a>
            <a href="">2</a>
            <a href="">3</a>
            <a href="">4</a>
            <a href="">5</a>
            <a href=""> > </a>
          </div>
        </div>
        `,
        created() {
          //donate-money
          axios
            .get("../phps/pomesRecorder.php")
            .then((res) => (this.pomesRecorderList = res.data));
        },
      });

      //çµç·£ç´€éŒ„
      var Componentdonate = Vue.component("donate-record", {
        data() {
          return {
            donateList: [],
            searchData: "",
            searchval: "",
            pno: 1, //ç›®å‰é æ•¸
            psize: 10, //é é¢ç­†æ•¸
            currentPage: 1, //ç›®å‰é é¢
            totalPage: 0, //ç¸½é æ•¸
            num: 0, //è¡¨æ ¼æ•¸é‡
          };
        },
        watch: {
          searchval(newValue) {
            if (this.searchval !== "") {
              axios
                .get(`phps/memberShow.php?mem_no=${newValue}`)
                .then((res) => {
                  console.log(res.data);
                  this.donateList = res.data;
                })
                .catch(function (error) {
                  console.log(error);
                });
            }
          },
          pno() {
            if (this.num / this.psize > parseInt(this.num / this.psize)) {
              this.totalPage = parseInt(this.num / this.psize) + 1;
            } else {
              this.totalPage = parseInt(this.num / this.psize);
            }
            this.currentPage = this.pno; //ç›®å‰é æ•¸
            let startRow = (this.currentPage - 1) * this.psize + 1; //é–‹å§‹é¡¯ç¤ºè¡Œ
            let endRow = this.currentPage * this.psize; //çµæŸé¡¯ç¤ºè¡Œ
            endRow = endRow > this.num ? this.num : endRow;
            for (let i = 1; i < this.num + 1; i++) {
              if (i >= startRow && i <= endRow) {
                $("#donatetable tbody tr:nth-child(" + i + ")").css({
                  display: "table-row",
                });
              } else {
                $("#donatetable tbody tr:nth-child(" + i + ")").css({
                  display: "none",
                });
              }
            }
          },
          psize() {
            this.pno = 1;
          },
        },
        updated() {
          this.num = this.donateList.length; //è¡¨æ ¼æ•¸é‡
          //ç¸½å…±åˆ†å¹¾é 
          if (this.num / this.psize > parseInt(this.num / this.psize)) {
            this.totalPage = parseInt(this.num / this.psize) + 1;
          } else {
            this.totalPage = parseInt(this.num / this.psize);
          }
          this.currentPage = this.pno; //ç›®å‰é æ•¸
          let startRow = (this.currentPage - 1) * this.psize + 1; //é–‹å§‹é¡¯ç¤ºè¡Œ
          let endRow = this.currentPage * this.psize; //çµæŸé¡¯ç¤ºè¡Œ
          endRow = endRow > this.num ? this.num : endRow;
          for (let i = 1; i < this.num + 1; i++) {
            if (i >= startRow && i <= endRow) {
              $("#donatetable tbody tr:nth-child(" + i + ")").css({
                display: "table-row",
              });
            } else {
              $("#donatetable tbody tr:nth-child(" + i + ")").css({
                display: "none",
              });
            }
          }
        },
        methods: {
          list() {
            //æœå°‹
            this.pno = 1;
            let search = this.searchval;
            this.donateList = this.donateList.filter(function (index) {
              return Object.keys(index).some(function (key) {
                return String(index[key]).indexOf(search) != -1;
              });
            });
          },
          nextpage() {
            this.currentPage = this.pno; //ç›®å‰é æ•¸
            let startRow = (this.currentPage - 1) * this.psize + 1; //é–‹å§‹é¡¯ç¤ºè¡Œ
            let endRow = this.currentPage * this.psize; //çµæŸé¡¯ç¤ºè¡Œ
            endRow = endRow > this.num ? this.num : endRow;
            if (this.currentPage < this.totalPage) {
              this.pno += 1;
            }
          },
          previouspage() {
            this.currentPage = this.pno; //ç›®å‰é æ•¸
            let startRow = (this.currentPage - 1) * this.psize + 1; //é–‹å§‹é¡¯ç¤ºè¡Œ
            let endRow = this.currentPage * this.psize; //çµæŸé¡¯ç¤ºè¡Œ
            endRow = endRow > this.num ? this.num : endRow;
            if (this.currentPage > 1) {
              this.pno -= 1;
            } else if (this.currentPage == 1) {
              this.pno = 1;
            }
          },
          first() {
            this.pno = 1;
          },
          end() {
            this.pno = this.totalPage;
          },
        },
        template: ` <div>
            <div class="supply">
              <span>çµç·£ç´€éŒ„</span>
            </div>
            <div class="searchbox">
              <div class="search">
                <input type="text" placeholder="æœå°‹é—œéµå­—" v-model="searchval"/>
                <button @click="list">
                  <img src="img/backdata/search.svg" alt="" />
                </button>
              </div>
              <div class="page">
                <span class="each">æ¯é é¡¯ç¤º</span>
                <select v-model="psize">
                  <option value="10" style="color: #927858">10</option>
                  <option value="20" style="color: #927858">20</option>
                  <option value="30" style="color: #927858">30</option>
                </select>
                <span class="each">é </span>
              </div>
            </div>
            <!-- è¡¨æ ¼å…§å®¹ -->

            <table id="donatetable" class="table table-hover table-pray">
              <thead>
                <tr>
                  <th>çµç·£ç·¨è™Ÿ</th>
                  <th>æœƒå“¡ç·¨è™Ÿ</th>
                  <th>çµç·£æ—¥æœŸ</th>
                  <th>çµç·£é‡‘é¡</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="(donate, index) in donateList" :key="donate.donate_no">
                  <td>{{donate.donate_no}}</td>
                  <td>{{donate.mem_no}}</td>
                  <td>{{donate.donate_date}}</td>
                  <td>{{donate.donate_total}}</td>
                </tr>
              </tbody>
            </table>
            <!-- è¡¨æ ¼å…§å®¹çµæŸ -->

            <!-- é ç°½ -->
            <div class="pagelist">
                  <h4> ç¸½å…±{{num}}ç­†ï¼Œ{{totalPage}}é  </h4>
                  <a href="#"@click="first">é¦–é </a>
                  <a href="#"@click="previouspage"> < </a>
                  <a>{{currentPage}}</a>
                  <a href="#" @click="nextpage"> > </a>
                  <a href="#"@click="end">æœ«é </a>
             </div>
          </div>
      `,
        created() {
          //donate-money
          axios
            .get("../phps/donatephp.php")
            .then((res) => (this.donateList = res.data));
        },
      });
      new Vue({
        el: "#app",
        data: {
          button: false,
          show: "showbox0",
        },
        components: {
          "component-member": Componentmember,
          "component-prayrecorder": Componentprayrecord,
          "component-cardmanage": Componentcardmanage,
          "component-orders": Componentorders,
          "component-pomes": Componentpomes,
          "component-pomesdet": Componentpomesdetail,
          "component-pomesrec": Componentpomesrecorder,
          "component-amuletmanage": Componentamuletmanage,
          "component-zodiacmanage": Componentzodiacmanage,
          "component-donate": Componentdonate,
        },
        methods: {
          showButton() {
            if (this.button == false) {
              this.button = true;
            } else {
              this.button = false;
            }
          },
        },
        created() {
          let array = JSON.parse(localStorage.getItem("personalkey"));
          if (array == null) {
            location.href = "../index.html";
          }
        },
      });
    </script>
  </body>
</html>
